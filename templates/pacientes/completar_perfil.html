{% extends "modern_base.html" %}

{% block title %}Completar Perfil - {{ super() }}{% endblock %}

{% block content %}
<div class="osiris-form-container">
    <div class="osiris-form-header">
        <h1><i class='bx bx-user-plus'></i> Completar Perfil de Paciente</h1>
        <p>Complete toda la informaci√≥n para acceder a los servicios de salud universitarios</p>
    </div>
    
    <div class="osiris-form-body">
        <form method="POST">
            {{ form.hidden_tag() }}
            
            <div class="osiris-form-row">
                <div class="osiris-form-group">
                    <label class="osiris-form-label">{{ form.carrera.label.text }}</label>
                    {{ form.carrera(class="osiris-form-input" + (" error" if form.carrera.errors else "")) }}
                    {% if form.carrera.errors %}
                        {% for error in form.carrera.errors %}
                            <span class="osiris-form-error">{{ error }}</span>
                        {% endfor %}
                    {% endif %}
                </div>
                
                <div class="osiris-form-group">
                    <label class="osiris-form-label">{{ form.fecha_nacimiento.label.text }}</label>
                    {{ form.fecha_nacimiento(class="osiris-form-input" + (" error" if form.fecha_nacimiento.errors else "")) }}
                    {% if form.fecha_nacimiento.errors %}
                        {% for error in form.fecha_nacimiento.errors %}
                            <span class="osiris-form-error">{{ error }}</span>
                        {% endfor %}
                    {% endif %}
                </div>
            </div>
            
            <div class="osiris-form-row">
                <div class="osiris-form-group">
                    <label class="osiris-form-label">{{ form.telefono.label.text }}</label>
                    {{ form.telefono(class="osiris-form-input" + (" error" if form.telefono.errors else "")) }}
                    {% if form.telefono.errors %}
                        {% for error in form.telefono.errors %}
                            <span class="osiris-form-error">{{ error }}</span>
                        {% endfor %}
                    {% endif %}
                </div>
                
                <div class="osiris-form-group">
                    <label class="osiris-form-label">{{ form.direccion.label.text }}</label>
                    {{ form.direccion(class="osiris-form-input" + (" error" if form.direccion.errors else "")) }}
                    {% if form.direccion.errors %}
                        {% for error in form.direccion.errors %}
                            <span class="osiris-form-error">{{ error }}</span>
                        {% endfor %}
                    {% endif %}
                </div>
            </div>
            
            <div class="osiris-form-row single">
                <div class="osiris-form-group">
                    <label class="osiris-form-label">{{ form.procedencia.label.text }}</label>
                    {{ form.procedencia(class="osiris-form-select" + (" error" if form.procedencia.errors else "")) }}
                    {% if form.procedencia.errors %}
                        {% for error in form.procedencia.errors %}
                            <span class="osiris-form-error">{{ error }}</span>
                        {% endfor %}
                    {% endif %}
                    <span class="osiris-form-help">Seleccione su distrito o provincia de procedencia en Puno</span>
                </div>
            </div>
            
            <div class="osiris-form-section">
                <h3><i class='bx bx-phone'></i> Contacto de Emergencia</h3>
                
                <div class="osiris-form-row">
                    <div class="osiris-form-group">
                        <label class="osiris-form-label">{{ form.contacto_emergencia.label.text }}</label>
                        {{ form.contacto_emergencia(class="osiris-form-input" + (" error" if form.contacto_emergencia.errors else "")) }}
                        {% if form.contacto_emergencia.errors %}
                            {% for error in form.contacto_emergencia.errors %}
                                <span class="osiris-form-error">{{ error }}</span>
                            {% endfor %}
                        {% endif %}
                    </div>
                    
                    <div class="osiris-form-group">
                        <label class="osiris-form-label">{{ form.telefono_emergencia.label.text }}</label>
                        {{ form.telefono_emergencia(class="osiris-form-input" + (" error" if form.telefono_emergencia.errors else "")) }}
                        {% if form.telefono_emergencia.errors %}
                            {% for error in form.telefono_emergencia.errors %}
                                <span class="osiris-form-error">{{ error }}</span>
                            {% endfor %}
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <div class="osiris-form-actions">
                <button type="submit" class="osiris-btn osiris-btn-primary">
                    <i class='bx bx-save'></i> COMPLETAR PERFIL
                </button>
                <a href="{{ url_for('main.dashboard') }}" class="osiris-btn osiris-btn-secondary">
                    <i class='bx bx-x'></i> Cancelar
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
